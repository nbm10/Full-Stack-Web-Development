<!DOCTYPE html>

<html>

	<head>
		<meta charset="utf-8">
		<title>Color Guessing Game</title>
	</head>

	<body onload="do_game()">
		<script>
			var target;
			var target_index;			
			var guess_input;
			var guess_input_text;
			var colors = ["green", "blue", "purple", "orange", "pink", "yellow", "indigo", "lavender", "magenta", "silver"];
			var finished = false;   
			var guesses = 0;
			
			function do_game(){
				colors.sort();
				var random_number = Math.random() * (colors.length - 1);
				var random_number_integer = Math.floor(random_number);
				target_index = random_number_integer;
				var target = colors[random_number_integer];
				
				
				alert("The correct answer is: " + target);
				
				while(!finished){
					guess_input_text = prompt("I am thinking of one of these colors:\n\n" + colors + "\n\nWhat color am I thinking of?");
					guess_input = colors.indexOf(guess_input_text);
					guesses += 1;
					finished = check_guess();
					}
					
			function check_guess() {
				if (guess_input == -1) {
				  alert("Sorry, I don't recognize your color. \n\n Please try again.");
				  return false;
				}
				if (guess_input > target_index) {
				  alert("Sorry, you are wrong.\n\n Your color is alphabetically higher than mine.\n\n Please try again.");
				  return false;
				}
				if (guess_input < target_index) {
				  alert("Sorry, you are wrong.\n\n Your color is alphabetically lower than mine.\n\n Please try again.");
				  return false;
				}
				myBody = document.getElementsByTagName("body")[0];
                myBody.style.background = colors[target_index];
				alert("Congratulations! You have guessed the color!\n\n It took you " + guesses + " guesses to finish the game!\n\n You can see the color in the background.");
				return true;
			  }
			}
		</script>

	</body>

</html>